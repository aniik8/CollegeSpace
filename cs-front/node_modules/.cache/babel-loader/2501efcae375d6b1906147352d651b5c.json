{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module table/commands/insertcolumncommand\n */\nimport { Command } from 'ckeditor5/src/core';\nimport { getColumnIndexes, getSelectionAffectedTableCells } from '../utils/selection';\n/**\n * The insert column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableColumnLeft'` and\n * `'insertTableColumnRight'` editor commands.\n *\n * To insert a column to the left of the selected cell, execute the following command:\n *\n *\t\teditor.execute( 'insertTableColumnLeft' );\n *\n * To insert a column to the right of the selected cell, execute the following command:\n *\n *\t\teditor.execute( 'insertTableColumnRight' );\n *\n * @extends module:core/command~Command\n */\n\nexport default class InsertColumnCommand extends Command {\n  /**\n   * Creates a new `InsertColumnCommand` instance.\n   *\n   * @param {module:core/editor/editor~Editor} editor An editor on which this command will be used.\n   * @param {Object} options\n   * @param {String} [options.order=\"right\"] The order of insertion relative to the column in which the caret is located.\n   * Possible values: `\"left\"` and `\"right\"`.\n   */\n  constructor(editor) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super(editor);\n    /**\n     * The order of insertion relative to the column in which the caret is located.\n     *\n     * @readonly\n     * @member {String} module:table/commands/insertcolumncommand~InsertColumnCommand#order\n     */\n\n    this.order = options.order || 'right';\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  refresh() {\n    const selection = this.editor.model.document.selection;\n    const isAnyCellSelected = !!getSelectionAffectedTableCells(selection).length;\n    this.isEnabled = isAnyCellSelected;\n  }\n  /**\n   * Executes the command.\n   *\n   * Depending on the command's {@link #order} value, it inserts a column to the `'left'` or `'right'` of the column\n   * in which the selection is set.\n   *\n   * @fires execute\n   */\n\n\n  execute() {\n    const editor = this.editor;\n    const selection = editor.model.document.selection;\n    const tableUtils = editor.plugins.get('TableUtils');\n    const insertBefore = this.order === 'left';\n    const affectedTableCells = getSelectionAffectedTableCells(selection);\n    const columnIndexes = getColumnIndexes(affectedTableCells);\n    const column = insertBefore ? columnIndexes.first : columnIndexes.last;\n    const table = affectedTableCells[0].findAncestor('table');\n    tableUtils.insertColumns(table, {\n      columns: 1,\n      at: insertBefore ? column : column + 1\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/jaibhole/Documents/CS/cs-front/node_modules/@ckeditor/ckeditor5-table/src/commands/insertcolumncommand.js"],"names":["Command","getColumnIndexes","getSelectionAffectedTableCells","InsertColumnCommand","constructor","editor","options","order","refresh","selection","model","document","isAnyCellSelected","length","isEnabled","execute","tableUtils","plugins","get","insertBefore","affectedTableCells","columnIndexes","column","first","last","table","findAncestor","insertColumns","columns","at"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,gBAAT,EAA2BC,8BAA3B,QAAiE,oBAAjE;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,mBAAN,SAAkCH,OAAlC,CAA0C;AACxD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACCI,EAAAA,WAAW,CAAEC,MAAF,EAAyB;AAAA,QAAfC,OAAe,uEAAL,EAAK;AACnC,UAAOD,MAAP;AAEA;AACF;AACA;AACA;AACA;AACA;;AACE,SAAKE,KAAL,GAAaD,OAAO,CAACC,KAAR,IAAiB,OAA9B;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,OAAO,GAAG;AACT,UAAMC,SAAS,GAAG,KAAKJ,MAAL,CAAYK,KAAZ,CAAkBC,QAAlB,CAA2BF,SAA7C;AACA,UAAMG,iBAAiB,GAAG,CAAC,CAACV,8BAA8B,CAAEO,SAAF,CAA9B,CAA4CI,MAAxE;AAEA,SAAKC,SAAL,GAAiBF,iBAAjB;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACCG,EAAAA,OAAO,GAAG;AACT,UAAMV,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMI,SAAS,GAAGJ,MAAM,CAACK,KAAP,CAAaC,QAAb,CAAsBF,SAAxC;AACA,UAAMO,UAAU,GAAGX,MAAM,CAACY,OAAP,CAAeC,GAAf,CAAoB,YAApB,CAAnB;AACA,UAAMC,YAAY,GAAG,KAAKZ,KAAL,KAAe,MAApC;AAEA,UAAMa,kBAAkB,GAAGlB,8BAA8B,CAAEO,SAAF,CAAzD;AACA,UAAMY,aAAa,GAAGpB,gBAAgB,CAAEmB,kBAAF,CAAtC;AAEA,UAAME,MAAM,GAAGH,YAAY,GAAGE,aAAa,CAACE,KAAjB,GAAyBF,aAAa,CAACG,IAAlE;AACA,UAAMC,KAAK,GAAGL,kBAAkB,CAAE,CAAF,CAAlB,CAAwBM,YAAxB,CAAsC,OAAtC,CAAd;AAEAV,IAAAA,UAAU,CAACW,aAAX,CAA0BF,KAA1B,EAAiC;AAAEG,MAAAA,OAAO,EAAE,CAAX;AAAcC,MAAAA,EAAE,EAAEV,YAAY,GAAGG,MAAH,GAAYA,MAAM,GAAG;AAAnD,KAAjC;AACA;;AApDuD","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module table/commands/insertcolumncommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\nimport { getColumnIndexes, getSelectionAffectedTableCells } from '../utils/selection';\n\n/**\n * The insert column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableColumnLeft'` and\n * `'insertTableColumnRight'` editor commands.\n *\n * To insert a column to the left of the selected cell, execute the following command:\n *\n *\t\teditor.execute( 'insertTableColumnLeft' );\n *\n * To insert a column to the right of the selected cell, execute the following command:\n *\n *\t\teditor.execute( 'insertTableColumnRight' );\n *\n * @extends module:core/command~Command\n */\nexport default class InsertColumnCommand extends Command {\n\t/**\n\t * Creates a new `InsertColumnCommand` instance.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor An editor on which this command will be used.\n\t * @param {Object} options\n\t * @param {String} [options.order=\"right\"] The order of insertion relative to the column in which the caret is located.\n\t * Possible values: `\"left\"` and `\"right\"`.\n\t */\n\tconstructor( editor, options = {} ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * The order of insertion relative to the column in which the caret is located.\n\t\t *\n\t\t * @readonly\n\t\t * @member {String} module:table/commands/insertcolumncommand~InsertColumnCommand#order\n\t\t */\n\t\tthis.order = options.order || 'right';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst selection = this.editor.model.document.selection;\n\t\tconst isAnyCellSelected = !!getSelectionAffectedTableCells( selection ).length;\n\n\t\tthis.isEnabled = isAnyCellSelected;\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * Depending on the command's {@link #order} value, it inserts a column to the `'left'` or `'right'` of the column\n\t * in which the selection is set.\n\t *\n\t * @fires execute\n\t */\n\texecute() {\n\t\tconst editor = this.editor;\n\t\tconst selection = editor.model.document.selection;\n\t\tconst tableUtils = editor.plugins.get( 'TableUtils' );\n\t\tconst insertBefore = this.order === 'left';\n\n\t\tconst affectedTableCells = getSelectionAffectedTableCells( selection );\n\t\tconst columnIndexes = getColumnIndexes( affectedTableCells );\n\n\t\tconst column = insertBefore ? columnIndexes.first : columnIndexes.last;\n\t\tconst table = affectedTableCells[ 0 ].findAncestor( 'table' );\n\n\t\ttableUtils.insertColumns( table, { columns: 1, at: insertBefore ? column : column + 1 } );\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}