{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module basic-styles/code/codeediting\n */\nimport { Plugin } from 'ckeditor5/src/core';\nimport { TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing';\nimport AttributeCommand from '../attributecommand';\nconst CODE = 'code';\nconst HIGHLIGHT_CLASS = 'ck-code_selected';\n/**\n * The code editing feature.\n *\n * It registers the `'code'` command and introduces the `code` attribute in the model which renders to the view\n * as a `<code>` element.\n *\n * @extends module:core/plugin~Plugin\n */\n\nexport default class CodeEditing extends Plugin {\n  /**\n   * @inheritDoc\n   */\n  static get pluginName() {\n    return 'CodeEditing';\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  static get requires() {\n    return [TwoStepCaretMovement];\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  init() {\n    const editor = this.editor; // Allow code attribute on text nodes.\n\n    editor.model.schema.extend('$text', {\n      allowAttributes: CODE\n    });\n    editor.model.schema.setAttributeProperties(CODE, {\n      isFormatting: true,\n      copyOnEnter: false\n    });\n    editor.conversion.attributeToElement({\n      model: CODE,\n      view: 'code',\n      upcastAlso: {\n        styles: {\n          'word-wrap': 'break-word'\n        }\n      }\n    }); // Create code command.\n\n    editor.commands.add(CODE, new AttributeCommand(editor, CODE)); // Enable two-step caret movement for `code` attribute.\n\n    editor.plugins.get(TwoStepCaretMovement).registerAttribute(CODE); // Setup highlight over selected element.\n\n    inlineHighlight(editor, CODE, 'code', HIGHLIGHT_CLASS);\n  }\n\n}","map":{"version":3,"sources":["/Users/jaibhole/Documents/CS/cs-front/node_modules/@ckeditor/ckeditor5-basic-styles/src/code/codeediting.js"],"names":["Plugin","TwoStepCaretMovement","inlineHighlight","AttributeCommand","CODE","HIGHLIGHT_CLASS","CodeEditing","pluginName","requires","init","editor","model","schema","extend","allowAttributes","setAttributeProperties","isFormatting","copyOnEnter","conversion","attributeToElement","view","upcastAlso","styles","commands","add","plugins","get","registerAttribute"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,SAASA,MAAT,QAAuB,oBAAvB;AACA,SAASC,oBAAT,EAA+BC,eAA/B,QAAsD,sBAAtD;AAEA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,MAAMC,IAAI,GAAG,MAAb;AACA,MAAMC,eAAe,GAAG,kBAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,WAAN,SAA0BN,MAA1B,CAAiC;AAC/C;AACD;AACA;AACsB,aAAVO,UAAU,GAAG;AACvB,WAAO,aAAP;AACA;AAED;AACD;AACA;;;AACoB,aAARC,QAAQ,GAAG;AACrB,WAAO,CAAEP,oBAAF,CAAP;AACA;AAED;AACD;AACA;;;AACCQ,EAAAA,IAAI,GAAG;AACN,UAAMC,MAAM,GAAG,KAAKA,MAApB,CADM,CAGN;;AACAA,IAAAA,MAAM,CAACC,KAAP,CAAaC,MAAb,CAAoBC,MAApB,CAA4B,OAA5B,EAAqC;AAAEC,MAAAA,eAAe,EAAEV;AAAnB,KAArC;AACAM,IAAAA,MAAM,CAACC,KAAP,CAAaC,MAAb,CAAoBG,sBAApB,CAA4CX,IAA5C,EAAkD;AACjDY,MAAAA,YAAY,EAAE,IADmC;AAEjDC,MAAAA,WAAW,EAAE;AAFoC,KAAlD;AAKAP,IAAAA,MAAM,CAACQ,UAAP,CAAkBC,kBAAlB,CAAsC;AACrCR,MAAAA,KAAK,EAAEP,IAD8B;AAErCgB,MAAAA,IAAI,EAAE,MAF+B;AAGrCC,MAAAA,UAAU,EAAE;AACXC,QAAAA,MAAM,EAAE;AACP,uBAAa;AADN;AADG;AAHyB,KAAtC,EAVM,CAoBN;;AACAZ,IAAAA,MAAM,CAACa,QAAP,CAAgBC,GAAhB,CAAqBpB,IAArB,EAA2B,IAAID,gBAAJ,CAAsBO,MAAtB,EAA8BN,IAA9B,CAA3B,EArBM,CAuBN;;AACAM,IAAAA,MAAM,CAACe,OAAP,CAAeC,GAAf,CAAoBzB,oBAApB,EAA2C0B,iBAA3C,CAA8DvB,IAA9D,EAxBM,CA0BN;;AACAF,IAAAA,eAAe,CAAEQ,MAAF,EAAUN,IAAV,EAAgB,MAAhB,EAAwBC,eAAxB,CAAf;AACA;;AA9C8C","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module basic-styles/code/codeediting\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing';\n\nimport AttributeCommand from '../attributecommand';\n\nconst CODE = 'code';\nconst HIGHLIGHT_CLASS = 'ck-code_selected';\n\n/**\n * The code editing feature.\n *\n * It registers the `'code'` command and introduces the `code` attribute in the model which renders to the view\n * as a `<code>` element.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class CodeEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'CodeEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ TwoStepCaretMovement ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\n\t\t// Allow code attribute on text nodes.\n\t\teditor.model.schema.extend( '$text', { allowAttributes: CODE } );\n\t\teditor.model.schema.setAttributeProperties( CODE, {\n\t\t\tisFormatting: true,\n\t\t\tcopyOnEnter: false\n\t\t} );\n\n\t\teditor.conversion.attributeToElement( {\n\t\t\tmodel: CODE,\n\t\t\tview: 'code',\n\t\t\tupcastAlso: {\n\t\t\t\tstyles: {\n\t\t\t\t\t'word-wrap': 'break-word'\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Create code command.\n\t\teditor.commands.add( CODE, new AttributeCommand( editor, CODE ) );\n\n\t\t// Enable two-step caret movement for `code` attribute.\n\t\teditor.plugins.get( TwoStepCaretMovement ).registerAttribute( CODE );\n\n\t\t// Setup highlight over selected element.\n\t\tinlineHighlight( editor, CODE, 'code', HIGHLIGHT_CLASS );\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}